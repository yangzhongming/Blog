---
title: 网站流量分析项目
tags: [大数据]
categories: 大数据分析
images: 
date: 2019-08-12 21:00:00
---
## 网站流量统计分析系统
  网站流量统计是改进网站服务的重要手段之一，通过获取用户在网站的行为，可以分析出哪些内容受到欢迎，哪些页面存在问题，从而是网站改进活动更具有针对性。
### 一、常用的网站流量统计指标一般包括以下情况分析:

+ 在线情况分析

    在线情况分析记录在线用户的活动信息，包括：来访时间、访客地域、来路页面、当前停留页面等，这些功能对企业实时掌握自身网站流量有很大帮助。

+ 时段分析
    
    时段分析提供网站任意时间内的流量变化情况，或者某一时间到某一时间的流量变化，比如小时段分布，日访问量分布，对于企业了解用户浏览网页的时间段有一个很好的分析。

+ 来源分析
  
    来源分析提供来路域名带来的来访次数、IP、独立访客、新访客、新访客浏览次数、站内总浏览次数等数据。这个数据可以直接让企业了解推广成效的来路，从而分析出哪些网站投放的效果更明显。
   
+ 
### 网站的分析指标:

+ PV 

     PV(page view)，即页面浏览量或点击量。点击量，即一天内整个网站中页面被访问的次数。通常是衡量一个网站的主要指标。用户对一个页面A进行刷新或者一次通过网址访问，该页面的A的pv就会增加1。

+ UV

     UV(unique visitor)，即独立访客数，即一天之内访问网站的人数。同一个人在一天之内访问网站多次，也只能算一个UV。同一个用户对一个网站或者一个网页的多次访问记为贡献一个UV。从访客来到网站到最终关闭网站的所有页面离开，记为1次访问。若访客连携30分钟没有断开或者刷新页面，或者访客关闭了浏览器，则被计算为本次访问结束。

+ VV
   
     VV(Visti View),即访问次数也称会话总算，用以记录所有访客1天内访问了多少次网站。当访客完成所有浏览并最终关掉该网站的所有页面时，便完成了一次访问，同一访客1天内可能有多次访问行为，访问次数累计。

+ BR
     BR（Bounce Rate）即跳出率，用户进入网站是否对网站的内容产生了兴趣，如果用户进入一个网站的页面，而没有点击该网站的其他页面流离开了，即称跳出。这个指标一般针对整个网站。一天之内跳出的会话总数占所有会话总数的比率。所谓跳出指的是一个会话中只访问一个页面会话就结束了，称之为会话跳出。跳出的会话占全部会话的比率，称之为跳出率。这个指标在评价推广活动的效果时非常有用。

+ NewIP

	 NewIP新增IP总数，一天之内访问网站的所有IP去重后，检查有多少是历史数据中从未出现过的，这些IP计数，就是新增的IP总数，这个指标可以在一定程度上体现网站新用户增长的情况。

+ NewCust
     新增独立访客数，一天之内访问网站的人中，有多少人是之前从来没有访问过的。

+ AvgTime
      评价访问时长，所谓一个会话的访问时长，是指一个会话结束的时间减去一个会话开始时间得到的会话经历时长，将一天之内所有会话的访问时长求平均值就是平均访问时间。这个指标可以体现用户在网站中的逗留情况。

+ AVgDeep
       平均访问深度，所谓一个会话的访问深度，是指一个会话中访问是所有资源地址去重后计算得到的指标。将一天内所有的访问深度求平均值就是平均访问深度。这个指标可以体现出网站对用户的粘性大小。

## 系统架构设计

## 网页埋点
+  网页埋点

       通过js文件，应用服务器的所有页面都引入该js文件，在页面被访问时触发。触发的js收集用户行为数据信息，提交到日志服务器中。

+  2.JS代码的实现
	+  PV的计算
	
       > 浏览器对应用服务器的一次访问，会对应在日志服务器中产生一条日志。统计日志服务器当前日志数量即PV。

    + UV的计算
      >  在日志中标识出每条日志属于哪个用户的，之后对于这一天的所有日志中的用户，去重计算就可以得到UV。
      
      >  如何标识一个用户？
      
      >  在JS中，为每个用户指定独一无二的编号uvid来唯一标识，并将这个uvid表示存储在浏览器cookie,后续再有访问日志时，仍然采用cookie中保存的uvid,这样这个用户无论访问多少次，都有相同的uvid,标识这些访问来自于同一个用户。